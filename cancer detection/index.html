<!DOCTYPE html>
<html>

<head>
    <title>Breast Cancer Prediction</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }

        form {
            display: flex;
            flex-wrap: wrap;
            max-width: 800px;
        }

        .input-group {
            margin: 10px;
            flex: 1 1 250px;
        }

        label {
            display: block;
            margin-bottom: 4px;
        }

        input {
            width: 100%;
            padding: 6px;
        }

        #result {
            margin-top: 20px;
            font-size: 1.2em;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1em;
        }
    </style>
</head>

<body>
    <h1>Breast Cancer Prediction</h1>
    <form id="predictForm">
        <!-- Input fields will be generated by JS -->
    </form>
    <button type="submit" form="predictForm">Predict</button>
    <div id="result"></div>
    <script>
        // List of features
        const features = [
            'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean',
            'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean', 'fractal_dimension_mean',
            'radius_se', 'texture_se', 'perimeter_se', 'area_se', 'smoothness_se',
            'compactness_se', 'concavity_se', 'concave points_se', 'symmetry_se', 'fractal_dimension_se',
            'radius_worst', 'texture_worst', 'perimeter_worst', 'area_worst', 'smoothness_worst',
            'compactness_worst', 'concavity_worst', 'concave points_worst', 'symmetry_worst', 'fractal_dimension_worst'
        ];

        // Dynamically create input fields
        const form = document.getElementById('predictForm');
        features.forEach(f => {
            const group = document.createElement('div');
            group.className = 'input-group';
            const label = document.createElement('label');
            label.textContent = f.replace(/_/g, ' ');
            const input = document.createElement('input');
            input.type = 'number';
            input.step = 'any';
            input.name = f;
            input.required = true;
            group.appendChild(label);
            group.appendChild(input);
            form.appendChild(group);
        });

        form.onsubmit = async function (e) {
            e.preventDefault();
            const data = {};
            features.forEach(f => {
                data[f] = parseFloat(form.elements[f].value);
            });
            document.getElementById('result').textContent = "Predicting...";
            try {
                const response = await fetch('http://127.0.0.1:5000/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                let diagnosis = result.prediction === 1 ? "Malignant" : "Benign";
                document.getElementById('result').textContent = `Prediction: ${diagnosis} (${result.prediction})`;
            } catch (err) {
                document.getElementById('result').textContent = "Error: " + err;
            }
        };
    </script>
</body>

</html>